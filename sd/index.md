# Stable Diffusion 说明

Stable Diffusion 这里简称 SD ，SD 接口已上线，比MJ更稳定、便宜、自定义性强。

AIGC2D API 接口域名为：`api.aigc2d.com`

请求接口需要在请求头添加 API KEY ,授权方式为 Bearer Token

示例：`Authorization: Bearer AIGC2D-2f68dbbf-519d-4f01-9636-e2421b68f379`

基于 SD 已经实现的接口：

- 文生图
- 图生图
- 图片高清放大
- 人脸替换
- ...

所有接口都是通过队列方式实现，提交任务后会返回一个 任务ID (task_id)。
需要主动查询任务详情，获取完成情况

## 费用说明

SD 定价不是固定的，点数的消耗和图片的分辨率以及生成步数正相关，如果计算结果为小数，则四舍五入取整。

| 接口   | 基本价格 | ControlNet | 单位             |                                     | 备注  |
|------|------|------------|----------------|-------------------------------------|-----|
| 图片生成 | 5    | +6*N       | / 百万像素 / 步 / 张 | 图片生成为：文生图、图生图。N为ControlNet单元数量，最多3个 |
| 图像调整 | 2    | -          | / 百万像素 / 步 / 张 | 图像调整为：高清放大、人脸替换。 如果没有步数，计为1步        |

> 举例：以文生图的方式生成一张768*768的图片，生成步数为20步，且使用了一个ControlNet单元。以JS为例，消耗点数的计算方式为如下，结果为52点左右，请以实际扣费为准，根据汇率不同价格会调整：

```javascript
Math.round((10 + 6) * ((768 * 768) / (1000 * 1000)) * 20) / 2.5;
```